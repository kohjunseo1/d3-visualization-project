<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Nobel Visualization Dashboard</title>

  <!-- D3.js -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-cloud/1.2.5/d3.layout.cloud.min.js"></script>

  <!-- 공통 스타일 -->
  <link rel="stylesheet" href="visualization_project/css/style.css" />

  <!-- 그래프별 스타일 -->
  <link rel="stylesheet" href="visualization_project/graph1/graph1.css" />
  <link rel="stylesheet" href="visualization_project/graph2/graph2.css" />
  <link rel="stylesheet" href="visualization_project/graph3/graph3.css" />
  <link rel="stylesheet" href="visualization_project/graph4/graph4.css" />
  <link rel="stylesheet" href="visualization_project/graph5/graph5.css" />
  <link rel="stylesheet" href="visualization_project/graph6/graph6.css" />
  <link rel="stylesheet" href="visualization_project/graph7/graph7.css" />

</head>
<body>
  <h1>Nobel Prize Visualization Dashboard</h1>

  <!-- Graph 1 -->
  <section id="graph1-section" class="chart-container">
    <h2>① Average Number of Papers per Year Relative to Nobel Prize</h2>
    <svg id="chart1" width="900" height="600"></svg>
  </section>

  <hr style="margin:40px 0;" />

  <!-- Graph 2 -->
  <section id="graph2-section">
    <h1>Publication Year vs Prize Year (Award-Winning Papers)</h1>
    <h2>得奖论文发表时间 vs 获奖时间</h2>

    <div id="controls2">
      <label for="fieldSelect">Select Field:</label>
      <select id="fieldSelect">
        <option value="All">All Fields</option>
        <option value="Physics">Physics</option>
        <option value="Chemistry">Chemistry</option>
        <option value="Medicine">Medicine</option>
      </select>
    </div>

    <div id="chart-container" style="display:flex; gap:20px;">
      <div id="chart2" style="flex:3; min-width:600px; height:600px;"></div>
      <div id="details-panel" style="flex:1; border:1px solid #ccc; padding:10px;">
        <h3>Details</h3>
        <p>Details of the clicked paper will be shown here.</p>
      </div>
    </div>

    <div id="legend2"></div>

    <div id="histogram-section" style="margin-top:40px;">
      <h2>ΔT Histogram</h2>
      <label for="yearSlider">Prize Year Filter:</label>
      <input type="range" id="yearSlider" min="1900" max="2020" step="1" value="2020" />
      <span id="sliderValue">2020</span>
      <button id="playPauseBtn">▶️ Play</button>
      <div id="histogram" style="height:300px; margin-top:20px;"></div>
    </div>
  </section>

  <hr style="margin:40px 0;" />

  <!-- Graph 3 -->
  <section id="graph3-section">
    <h1>Yearly Subfield Trends Across Categories</h1>

    <label for="category-select">Select Category:</label>
    <select id="category-select"></select>

    <label for="year-select">Select Year:</label>
    <select id="year-select"></select>

    <div id="visualizations" style="display:flex; gap:20px; margin-top:20px;">
      <div id="treemap" style="flex:1;"></div>
      <div id="right-panel" style="flex:1;">
        <div id="sunburst"></div>
        <div id="legend3"></div>
      </div>
    </div>
  </section>

  <!-- Graph 4 -->
  <section id="graph4-section">
    <h2>共现关键词网络图</h2>

    <!-- 링크 필터 슬라이더 -->
    <label for="linkThreshold">最小共现次数 (链接阈值): </label>
    <input type="range" id="linkThreshold" min="1" max="10" value="3" step="1">
    <span id="thresholdValue">3</span>

    <!-- ✅ 새로운 검색창과 버튼 -->
    <div style="margin-top: 10px; margin-bottom: 20px;">
      <input type="text" id="keywordInput" placeholder="关键词搜索..." />
      <button id="searchBtn">搜索</button>
      <button id="resetBtn">重置</button>
    </div>

    <svg class="network-graph"></svg>
    <div class="tooltip4"></div>
  </section>

  <!-- Graph 5 -->
  <section id="graph5-section">
    <h2>国家/机构获奖趋势竞赛图 (누적/연도별 모드 전환)</h2>

    <!-- 연도 범위 슬라이더 -->
    <div style="text-align: center; margin-top: 20px;">
      <label for="yearRange">选择年份范围（연도 범위 선택）: </label>
      <input type="range" id="yearRange" min="1900" max="2020" value="2020" step="1" />
      <span id="yearValue">2020</span>
    </div>

    <!-- 모드 토글 -->
    <div class="mode-toggle">
      <label><input type="radio" name="mode" value="cumulative" checked /> 累计模式 (누적 모드)</label>
      <label><input type="radio" name="mode" value="yearly" /> 年度模式 (연도별 모드)</label>
    </div>

    <!-- 필터 체크박스 -->
    <div class="filter-box" id="countryFilterBox"></div>

    <!-- 그래프 영역 -->
    <div id="award-trend-chart"></div>

    <!-- 툴팁 영역 -->
    <div id="tooltip" style="position:absolute; background:#fff; padding:8px 12px; border:1px solid #ccc; border-radius:5px; box-shadow: 0px 0px 8px rgba(0,0,0,0.2); display:none; font-size:14px;"></div>

  </section>

  <!-- Graph 6 -->
  <section id="graph6-section">

    <h1>Nobel Prize Winning Concentration</h1>

    <div id="map-container">
      <h2>Country-wise Nobel Prize Distribution</h2>
      <div id="tooltip6" class="hidden"></div>
      <svg id="choropleth-map" width="960" height="600"></svg>
      <div id="legend6" style="max-width: 300px; margin: 20px auto; font-family: Arial, sans-serif;"></div>
    <!-- 범례 추가 -->
    </div>

    <div id="heatmap-container">
      <h2>Top Institutions Heatmap</h2>
      <div id="heatmap"></div>
    </div>
  </section>

  <!-- Graph 7 -->
  <section id="graph7-section">
    <h2>Dynamic Word Cloud by Year</h2>

    <!-- 분야 필터 -->
    <select id="field-select">
      <option value="all">전체</option>
      <option value="chem">Chemistry</option>
      <option value="phys">Physics</option>
      <option value="med">Medicine</option>
    </select>

    <div id="slider-container">
      <input type="range" id="year-slider" min="1826" max="2024" value="1826" step="1">
      <span id="year-label">1826</span>
    </div>
    <button id="play-btn">▶ Play</button>
    <div id="cloud"></div>

  </section>


  <!-- 그래프별 JS -->
  <script src="visualization_project/graph1/graph1.js"></script>
  <script src="visualization_project/graph2/graph2.js"></script>
  <script src="visualization_project/graph3/graph3.js"></script>
  <script src="visualization_project/graph4/graph4.js"></script>
  <script src="visualization_project/graph5/graph5.js"></script>
  <script src="visualization_project/graph6/graph6.js"></script>
  <script src="visualization_project/graph7/graph7.js"></script>
</body>
</html>
